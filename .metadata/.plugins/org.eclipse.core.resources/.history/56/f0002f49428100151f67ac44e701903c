import java.util.LinkedList;

// REPLACE THIS STUB WITH THE CORRECT SOLUTION.
// The current contents of this file are merely to allow things to compile 
// out of the box. It bears scant relation to a proper solution (for one thing,
// a hash table should not be a SortedStringSet.)
class ECHashStringSet implements StringSet {
	
	private static final int START_SIZE = 5;
	private static final int MAX_LOAD_FACTOR = 5;
	private static final double MIN_LOAD_FACTOR = 0.2;
	
	private int noOfEntry;
	private LinkedList<String>[] buckets;
	
	@SuppressWarnings("unchecked")
	public ECHashStringSet(int noOfBuckets) {
		noOfEntry = 0;
		buckets = (LinkedList<String>[]) new LinkedList[noOfBuckets];
		for(LinkedList<String> L : buckets) {
			L = new LinkedList<String>();
		}
	}
	
	public ECHashStringSet() {
		this(START_SIZE);
	}
	
	@Override
	public void put(String s) {
		noOfEntry += 1;
		if (noOfEntry > buckets.length * MAX_LOAD_FACTOR) {
			resize();
		}
		int bucket = (s.hashCode() & 0x7fffffff) % buckets.length;
		if(!buckets[bucket].contains(s)) {
			buckets[bucket].add(s);	
		}
	}


    /** Resizes the bucket list to NEWSIZE. */
    public void resize() {
        int newBucketCount = noOfEntry * 5;
        ECHashStringSet echss = new ECHashStringSet(newBucketCount);

        for (int i = 0; i < buckets.length; i++) {
            for (String s : buckets[i]) {
                echss.put(s);
            }
        }

        buckets = echss.buckets;
    }

	@Override
	public boolean contains(String s) {
		int bucket = (s.hashCode() & 0x7fffffff) % buckets.length;
		return buckets[bucket].contains(s);
	}

}
